import{d as j,o as ee,r as g,i as p,j as d,a as D,b as e,k as s,t as x,f as l,u as h,l as A,w as r,g as R,c as ne,n as ae,F as W,e as te,h as le}from"./index-BJuxVHWO.js";import{e as X,b as F,c as oe,d as G,a as ue,u as C}from"./general-CF7NYe4D.js";const se="/tg-bot/assets/greet-ru-Cv90H5PP.jpg",ce={class:"exchange-modal"},ie=e("br",null,null,-1),re=e("div",null,"🥉От 1,000$ до 5,000$ - 94.152 RUB",-1),de=e("div",null,"🥈От 5,001$ до 15,000$ - 93.966 RUB",-1),me=e("div",null," 🥇От 15,001$ и выше - 93.687 RUB",-1),ge={key:0},he={key:1},pe={key:2},De=j({__name:"ExchangeModal",emits:["close"],setup(H,{emit:E}){const{impactOccurred:_,notificationOccurred:J,selectionChanged:v}=G();X();const{showConfirm:f,showAlert:z,showPopup:w}=F(),{showMainButton:L,hideMainButton:S,showMainButtonProgress:y,hideMainButtonProgress:q,mainButtonText:$,mainButtonColor:m,mainButtonTextColor:b,isMainButtonActive:k,isMainButtonVisible:V,isMainButtonProgressVisible:U,setMainButtonParams:o}=oe();ee(()=>{o({text:"Обменять"})});const B=E,t=g(),u=g(),c=g(null),i=g(""),T=g(!0);g([{code:"usdt_aed",exchangeRate:3.674},{code:"aed_usdt",exchangeRate:3.6668},{code:"usdt_usd",exchangeRate:1},{code:"usd_usdt",exchangeRate:1.012},{code:"usd_aed",exchangeRate:3.643},{code:"aed_usd",exchangeRate:3.672},{code:"rub_card",exchangeRate:28.878},{code:"check",exchangeRate:null},{code:"transfer",exchangeRate:null}]);const K=g([{name:"USDT на AED",cur:["USDT","AED"],code:10,exchangeRate:3.674},{name:"AED на USDT",cur:["AED","USDT"],code:20,exchangeRate:3.6668},{name:"USDT на USD",cur:["USDT","USD"],code:30,exchangeRate:1},{name:"USD на USDT",cur:["USD","USDT"],code:30,exchangeRate:1.012},{name:"USD на AED",cur:["USD","AED"],code:50,exchangeRate:3.643},{name:"AED на USD",cur:["AED","USD"],code:50,exchangeRate:3.672},{name:"RUB(card) на AED",cur:["RUB","AED"],code:70,exchangeRate:28.878},{name:"Менеджер-чеки",code:80,exchangeRate:null},{name:"Переводы",code:90,exchangeRate:null}]),Q=()=>({pair:t.value,way:u.value,sum:c.value,wallet:i.value||null}),M=()=>{B("close",Q())};return(fe,n)=>{var I;const P=p("Dropdown"),O=p("InputText"),N=p("Button"),Y=p("tg-main-button");return d(),D("div",ce,[e("div",null,[s("Обратите внимание!"),ie,s(" Курс зависит от суммы, чем больше сумма продажи, тем выгоднее курс. "),e("b",null,x((I=t.value)==null?void 0:I.name),1),re,de,me]),l(P,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=a=>t.value=a),placeholder:"Выберите пару для обмена",options:K.value,"option-label":"name",onChange:n[1]||(n[1]=a=>h(v)())},null,8,["modelValue","options"]),t.value?(d(),A(P,{key:0,modelValue:u.value,"onUpdate:modelValue":n[2]||(n[2]=a=>u.value=a),placeholder:"Выберите способ",options:t.value.cur,onChange:n[3]||(n[3]=a=>h(v)())},{option:r(({option:a})=>[s(" Ввести сумму "+x(a),1)]),value:r(({value:a})=>[a?(d(),D("span",ge," Ввести сумму "+x(a),1)):(d(),D("span",he," Выберите способ "))]),_:1},8,["modelValue","options"])):R("",!0),u.value?(d(),A(O,{key:1,modelValue:c.value,"onUpdate:modelValue":n[4]||(n[4]=a=>c.value=a),type:"number",min:"100",step:"100",placeholder:`Сумма ${u.value}`,onInput:n[5]||(n[5]=a=>h(_)("soft"))},null,8,["modelValue","placeholder"])):R("",!0),u.value&&c.value>0&&T.value&&t.value.cur.includes("USDT")?(d(),D("div",pe,[l(O,{modelValue:i.value,"onUpdate:modelValue":n[6]||(n[6]=a=>i.value=a),placeholder:"Введите адрес вашего USDT-кошелька",style:{width:"100%"},onInput:n[7]||(n[7]=a=>h(_)("soft"))},null,8,["modelValue"]),l(N,{label:"Пропустить ввод кошелька",onClick:n[8]||(n[8]=a=>{T.value=!1,i.value=""})})])):R("",!0),l(N,{disabled:!t.value||!u.value||!c.value,label:"Подтвердить",style:{"margin-top":"30px"},onClick:n[9]||(n[9]=a=>M())},null,8,["disabled"]),t.value&&u.value&&c.value?(d(),A(Y,{key:3,onClick:n[10]||(n[10]=a=>h(f)(`
        Вы действительно хотите обменять: ${c.value} ${u.value}
         По курсу: ${t.value.exchangeRate}. 
         Вы отдаете ХХХ, 
         Вы получаете XXXX,
         
         После создания заявки курс фиксируется на 1 час(-а)`,Z=>Z?M():null))})):R("",!0)])}}}),xe=e("div",{style:{width:"100%","margin-bottom":"30px","max-height":"568px"}},[e("img",{src:se,alt:"menu 7gg",width:"100%"})],-1),ve=e("ul",null,[e("li",null,"💠 Первый в мире обменный пункт, который делится прибылью со своими клиентами💰"),e("li",null,"💠 Самые выгодные курсы на покупку/продажу валюты, криптовалюты, менеджер-чеков"),e("li",null,"💠 Быстрый, безопасный обмен USDT, RUB, AED, USD в офисах компании или с доставкой")],-1),Ue={class:"exchange-offers__item"},Re={class:"menu"},_e={class:"menu__item"},Be=j({__name:"Menu",setup(H){const{version:E,platform:_,initData:J,initDataUnsafe:v,sendData:f}=ue(),{showConfirm:z,showAlert:w,showPopup:L}=F();X();const{impactOccurred:S,notificationOccurred:y,selectionChanged:q}=G(),$=le(),m=g(!1),b=ne(()=>{if(C().currentCity.code==="dubai")return[{name:"USDT на AED",exchangeRate:3.674},{name:"AED на USDT",exchangeRate:3.6668},{name:"USDT на USD",exchangeRate:1},{name:"USD на USDT",exchangeRate:1.012},{name:"USD на AED",exchangeRate:3.643},{name:"AED на USD",exchangeRate:3.672},{name:"RUB(card) на AED",exchangeRate:28.878},{name:"Менеджер-чеки",exchangeRate:null},{name:"Переводы",exchangeRate:null}];if(C().currentCity.code==="moscow")return[{name:"RUB на USDT",exchangeRate:3.674},{name:"USDT на RUB",exchangeRate:3.6668},{name:"USD на USDT",exchangeRate:1.012},{name:"USDT на USD",exchangeRate:1},{name:"USDT на RUB(card)",exchangeRate:28.878},{name:"RUB(card) на USDT",exchangeRate:28.878},{name:"EUR на USDT",exchangeRate:1.012},{name:"USDT на EUR",exchangeRate:1},{name:"USD на AED",exchangeRate:3.643},{name:"AED на USD",exchangeRate:3.672},{name:"RUB на AED",exchangeRate:28.878},{name:"Менеджер-чеки",exchangeRate:null},{name:"Переводы",exchangeRate:null}];if(C().currentCity.code!=="moscow")return[{name:"RUB на USDT",exchangeRate:3.674},{name:"USDT на RUB",exchangeRate:3.6668},{name:"USDT на RUB(card)",exchangeRate:28.878},{name:"RUB(card) на USDT",exchangeRate:28.878},{name:"Менеджер-чеки",exchangeRate:null},{name:"Переводы",exchangeRate:null}]}),k=()=>{m.value?m.value=!1:$.back()},V=U=>{f(JSON.stringify(U)),fetch("https://test-bot-888.invi.pw/api/70013d3c-f63c-4e1d-8255-1895707e7980",{method:"POST",body:JSON.stringify(U),credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(o){return o.json()}).then(function(o){}).catch(function(o){}),m.value=!1,y("success"),w("Успешно, ваша заявка принята. Отправили вам детали обмена.")};return(U,o)=>{var c;const B=p("tg-back-button"),t=p("Button"),u=p("Dialog");return d(),D(W,null,[e("section",null,[l(B,{onClick:k}),xe,e("h1",null,[e("span",null,"@"+x((c=h(v).user)==null?void 0:c.username)+", ",1),s("Добро пожаловать в 7GG 🤝")]),ve,e("ul",{class:ae(["exchange-offers",{odd:b.value.length%2!==0}])},[(d(!0),D(W,null,te(b.value,i=>(d(),D("li",Ue,[l(t,{severity:"secondary",onClick:o[0]||(o[0]=T=>{m.value=!0,h(S)("heavy")})},{default:r(()=>[s(x(i.name)+" до "+x(i.exchangeRate),1)]),_:2},1024)]))),256))],2),e("ul",Re,[e("li",_e,[l(t,{onClick:o[1]||(o[1]=i=>{m.value=!0,h(S)("medium")})},{default:r(()=>[s("Обменять валюты")]),_:1})]),e("li",null,[l(t,null,{default:r(()=>[s("История услуг")]),_:1})]),e("li",null,[l(t,null,{default:r(()=>[s("Связаться с менеджером")]),_:1})]),e("li",null,[l(t,null,{default:r(()=>[s("Курсы")]),_:1})]),e("li",null,[l(t,null,{default:r(()=>[s("Курсы")]),_:1})]),e("li",null,[l(t,null,{default:r(()=>[s("Наши услуги")]),_:1})])])]),l(u,{visible:m.value,"onUpdate:visible":o[2]||(o[2]=i=>m.value=i),modal:"",draggable:!1,header:"Обмен валют",style:{width:"100%",height:"100%"}},{default:r(()=>[l(De,{onClose:V})]),_:1},8,["visible"])],64)}}});export{Be as default};
